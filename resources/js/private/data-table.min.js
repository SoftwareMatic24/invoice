var dataTableState={events:{},instances:{}};function dataTable(r){function i(e,t=!0,a=f()){return!0===t&&n(e),t=I(e,a),o.data=t}function u(){return o.originalData}let s={tableId:null,tableEl:null,overrideActionEvents:!0},o={originalData:[],data:[],meta:null,pageSize:null,currentPageIndex:0,rowCountStats:!1,appliedFilters:[],filterElements:[]},n=function(e){o.originalData=e},l=function(){return s.tableEl},d=function(){return s.tableId},c=function(){return o.data};function v(){return o.filterElements}let a=function(){return o.meta},t=function(){return o.rowCountStats},f=function(){return o.pageSize},g=function(){return o.currentPageIndex},b=function(){return s.overrideActionEvents},h=function(e){return o.filterElements.push(e),o.filterElements};let p=function(e,t){dataTableState.events[e]=t},$=function(e){return dataTableState.events[e]};function y(){return a().map(e=>e.columnText)}let S=function(t){var e=a().find(e=>void 0!==e[t]);return void 0===e?null:e},k=function(e){e=e.target.value;w(e)},m=function(e){var t=l().closest(".data-table-container");if(null===t)return!1;t.querySelector(".data-table-toolbar-section.search-section .search").value="",w("")},T=function(e){function a(){var e=event.target;null!=e&&(e=e.value,w(e))}e.forEach((e,t)=>{void 0===$(r+"-filter-by-search"+t)&&(e.addEventListener("change",a),p(r+"-filter-by-search"+t,a),h(e))})};function x(){var e=l().closest(".data-table-container").querySelector(".data-table-pagination");null!==e&&e.classList.add("hide")}function L(){var e=l().closest(".data-table-container").querySelector(".data-table-pagination");null!==e&&e.classList.remove("hide")}function C(e){var t=c();e<0?e=0:e>t.length-1&&(e=t.length-1),e=e,o.currentPageIndex=e,q(d(),t,g()),A()}function E(){var e=u(),t=i(e,!1);q(d(),t,0),0<e.length&&L()}function q(e,t,a){e=D(e,t,a),J(e)}let w=function(e){var n=v(),t=u(),t=I(t,t.length);if(0!==t.length){let a=t[0];if(!0===v().every(e=>{let t=e.value;return null===(t=e.classList.contains("filter-by-search")&&"all"===t?null:t)||""===t}))return null!==f()&&1<f()&&C(0),L(),E();for(let t=0;t<n.length;t++){var s=n[t];let l=-1,e=null,i=s.value;var o,c=i;let r=s.dataset.searchType;void 0!==r?e=r:r="partial",null!==(i=s.classList.contains("filter-by-search")&&"all"===i?null:i)&&(!0===i.includes(":")&&(s=y(),o=i.split(":")[0],i=i.split(":")[1],-1===(l=s.indexOf(o))&&(i=c),r="exact"),null!==e&&(r=e),a=a.filter(t=>{let a=!1;for(let e=0;e<t.length;e++)if(-1===l||l===e){var n=t[e];if("string"==typeof n.value&&"partial"===r?a=null!==n.value&&!1!==n.value&&!0===n.value.toLowerCase().includes(i.toLowerCase()):"string"==typeof n.value&&"exact"===r&&(a=null!==n.value&&!1!==n.value&&n.value.toLowerCase()==i.toLowerCase()==!0),!0===a)break}if(!0===a)return t}))}t=i(a,!1,a.length);q(d(),t,0),x()}},A=function(){var e=l().closest(".data-table-container").querySelector(".data-table-pagination");if(null===e)return!1;let a=g();var t=e.querySelectorAll('li:not([data-is="skip"])'),e=e.querySelectorAll('li[data-is="skip"]'),n=(t.forEach((e,t)=>{t==a+1?e.classList.add("active"):e.classList.remove("active"),e.classList.remove("hide")}),t.length-2);if(5<=a&&10<n){void 0!==e[0]&&e[0].classList.remove("hide");for(let e=2;e<=a-4;e++)t[e].classList.add("hide")}else void 0!==e[0]&&e[0].classList.add("hide");if(10<n)if(void 0!==e[1]&&e[1].classList.remove("hide"),a<6)for(let e=11;e<=n-1;e++)t[e].classList.add("hide");else for(let e=a+2+4;e<=n-1;e++)t[e].classList.add("hide");(n<=10||a>n-2-4)&&void 0!==e[1]&&e[1].classList.add("hide")},I=function(e,t){return chunkArray(e,null===t?e.length:t)},j=function(){d();var t=c().length,a=[];for(let e=1;e<=t;e++)e===t&&a.push('<li class="hide" data-is="skip">...</li>'),a.push(`<li onclick="dataTableChangePage('${d()}', ${e-1})">${e}</li>`),1===e&&a.push('<li class="hide" data-is="skip">...</li>');return 0===a.length?"":`
				<div class="data-table-pagination-container">
					<ul class="data-table-pagination">
						<li onclick="dataTableChangePage('${d()}', 'prev')">
							<svg class="icon"><use xlink:href="${BASE_URL}/assets/icons.svg#solid-chevron-right" /></svg>
						</li>
						${a.join("")}
						<li onclick="dataTableChangePage('${d()}', 'next')">
							<svg class="icon"><use xlink:href="${BASE_URL}/assets/icons.svg#solid-chevron-right" /></svg>
						</li>
					</ul>
				</div>
			`},P=function(e){var t,a=l().closest(".data-table-container");null!==a&&(t=a.querySelector(".data-table-footer").querySelector(".left"),null===a.querySelector(".data-table-pagination"))&&t.insertAdjacentHTML("beforeend",e)},_=function(){var t=l().closest(".data-table-container");if(null!==t){var t=t.querySelector(".data-table-footer"),a=t.querySelector(".right"),t=t.querySelector(".row-count-status");null!==t&&t.remove();let n=g();t=c().reduce((e,t,a)=>(e.entries+=t.length,n==a&&(e.start=e.entries-t.length+1,e.end=e.entries),e),{entries:0,start:0,end:0});let e=`<div class="row-count-status"><p>Showing ${t.start} to ${t.end} of ${t.entries} entries</p></div>`;0===t.entries&&(e='<div class="row-count-status"><p></p></div>'),a.insertAdjacentHTML("beforeend",e)}},D=function(n,e,t){let a=e[t],l=(void 0===a&&(a=[]),S("uid"));return a.map((e,t)=>{let a=n+"-"+t;return null!==l?a+="-"+e[l.columnIndex].value:a+="-"+t,`<tr>${R(a,e)}</tr>`}).join("")},R=function(a,e){return e.map((e,t)=>{t=a+"-"+t;return H(t,e)}).join("")},H=function(e,t){var a=void 0===t.classes?"":t.classes.join(" "),n=void 0===t.itemClasses?"":t.itemClasses.join(" ");void 0!==t.attributes&&t.attributes.join(" ");return null!==t.value&&void 0!==t.value||(t.value=""),"text"===t.type?M(t,a,n,e):"checkbox"===t.type?U(t,a,n,e):"excerpt"===t.type?z(t,a,n,e):"image"===t.type?N(t,a,n,e):"tag"===t.type?O(t,a,n,e):"list"===t.type?F(t,a,n,e):"html"===t.type?V(t,a,n,e):"button-group-icon"===t.type?Y(t,a,n,e):"button-group"===t.type?G(t,a,n,e):void 0},M=function(e,t,a){var n=void 0!==e.click?e.click:null;return null!==n?`<td class="${t}"><span class="${a} link-button" onclick="${n}">${e.value}</span></td>`:`<td class="${t}">${e.value}</td>`},U=function(e,t,a){void 0!==e.click&&e.click;return`<td class="${t}"><label class="input-style-1-checkbox"><input ${!0===e.checked?"checked":""} class="${a}" type="checkbox" value="${e.value}" /><span></span></label></td>`},z=function(e,t,a){return`<td class="${t}"><span class="${a} excerpt">${e.value}</span></td>`},N=function(e,t,a){return`<td class="${t}"><img class="${a}" src="${e.value}" width="40" /></td>`},O=function(e,t,a){return`<td class="${t}"><span class="tag ${a}" >${e.value}</span></td>`},F=function(e,t,a){return`<td><ul class="list action-list" role="list">${e.value.reduce((e,t)=>{let a="";return void 0!==t.remove&&(a=`<svg onclick="dataTableButtonClick('ability-list-' + '${t.id}')" class="icon icon-danger cross"><use xlink:href="${BASE_URL}/assets/icons.svg#cross" /></svg>`,void 0===dataTableState.events["ability-list-"+t.id])&&(dataTableState.events["ability-list-"+t.id]={click:t.remove}),e+`<li>${t.text} ${a}</li>`},"")}</ul></td>`},V=function(e,t,a){return`<td class="${t}">${e.value}</td>`},Y=function(e,t,a,l){let i=B(l).uid,r="";return e.value.forEach(function(e,t){var a=void 0!==e.classes?e.classes.join(" "):"",n=void 0===e.attributes?"":e.attributes.join(" ");void 0!==e.link&&(r+=`<a ${n} target="${void 0!==e.target?e.target:"_self"}" href="${e.link}" class="${a}"><svg class='icon'><use xlink:href="${BASE_URL}/assets/icons.svg#${e.icon}" /></svg></a>`),void 0!==e.event&&(t=l+"-"+t,r+=`<button ${n} data-uid="${i}" onclick="dataTableButtonClick('${t}')" class="${a}"><svg class='icon'><use xlink:href="${BASE_URL}/assets/icons.svg#${e.icon}" /></svg></button>`,void 0!==dataTableState.events[t]&&!0!==b()||(dataTableState.events[t]=e.event))}),`<td><div class="button-group">${r}</div></td>`},G=function(e,t,a,n){let l=B(n).uid,i="";return e.value.forEach(function(e,t){var a=void 0!==e.classes?e.classes.join(" "):"";void 0!==e.link&&(i+=`<a target="${void 0!==e.target?e.target:"_self"}" href="${e.link}" class="${a}">${e.text}</a>`),void 0!==e.event&&(t=n+"-"+t,i+=`<button data-uid="${l}" onclick="dataTableButtonClick('${t}')" class="${a}">${e.text}</button>`,void 0!==dataTableState.events[t]&&!0!==b()||(dataTableState.events[t]=e.event))}),`<td><div class="button-group">${i}</div></td>`},J=function(e){s.tableEl.querySelector("tbody").innerHTML=e,!0===t()&&_()},B=function(e){var e=e.split("-"),t=e.pop(),a=e.pop();return{columnIndex:t,rowIndex:e.pop(),uid:a,tableId:e.join("-")}};var e;return s.init=function(e,t={}){var a=document.querySelector("#"+r);if(null===a)return console.error(`Table with ID "${r}" not found.`);var n,{pageSize:t=null,rowCountStats:l=!1}=t;n=r,s.tableId=n,n=a,s.tableEl=n,n=function(e){let t=e.querySelectorAll("thead tr th");return Array.from(t).reduce((e,t,a)=>{let n=t.dataset;n.columnIndex=a;n.columnText=t.innerHTML;e.push({...n});return e},[])}(a),o.meta=n,n=t,o.pageSize=n,n=l,o.rowCountStats=n,i(e),function(e){let t=e.closest(".data-table-container");if(t===null)return;let a=t.querySelector(".data-table-footer"),n=`<div class="data-table-footer"><div class="left"></div><div class="right"></div></div>`;if(a===null)t.insertAdjacentHTML("beforeend",n)}(a),function(e){let t=e.getAttribute("id"),a=e.closest(".data-table-container");if(a===null)return;let n=a.querySelector(".data-table-toolbar-section.search-section .search"),l=a.querySelector(".data-table-toolbar-section.search-section .cross-icon"),i=a.querySelectorAll(".filter-by-search");if(T(i),n===null||$(t+"-"+"search")!==undefined)return;if(l!==null)l.addEventListener("click",m);n.addEventListener("input",k),p(r+"-"+"search",w),h(n)}(a),q(r,c(),g()),null!==t&&1<t&&1<e.length&&(l=j(),P(l),A())},s.getOriginalData=u,s.getData=c,s.setData=i,s.resetRowsView=E,s.changePage=C,s.getCurrentPageData=function(){let e=c()[g()];return e=void 0===e?[]:e},s.getCurrentPageIndex=g,s.filterByDateRange=function(t,a,n,e=0){var l=u();return 0!==l.length&&(""===t||""===a&&0<l.length?E():(l=l.filter(e=>{if(null!=e[n]&&dateCheck(t,a,e[n].value))return e}),i(l,!1,l.length),q(d(),c(),0),void x()))},s.maxHeight=function(e){l().closest(".data-table-container").style.maxHeight=e,l().closest(".data-table-container").style.overflowY="scroll"},s.search=w,e=s,dataTableState.instances[r]=e}function dataTableRowClick(e){null!=dataTableState.events[e]&&(0,dataTableState.events[e])()}function dataTableButtonClick(e){event.type;var t=void 0!==dataTableState.events[e]?dataTableState.events[e]:null;if(null!==t)for(key__eventName in t)t[key__eventName]()}function dataTableChangePage(t,a){t=dataTableState.instances[t];if(void 0!==t){let e=a;"prev"===a?e=t.getCurrentPageIndex()-1:"next"===a&&(e=t.getCurrentPageIndex()+1),t.changePage(e)}}